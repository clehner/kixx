<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

  <title>Treadmill: The code testing workout.</title>

  <style type="text/css">
    * {
      margin: 0;
      padding: 0;
    }

    body {
      margin: 2em;
      font: 16px/1.5em sans-serif;
      color: #333;
    }

    a {
      color: #369;
    }

    hr {
      margin: 2em 0 1em 0;
    }

    #header {
      font-family: sans-serif;
      margin: 1em 0 1em 0;
      text-align: center;
    }

    #header > h1 {
      font-size: 3em;
      margin-bottom: 0.5em;
    }

    #header > h2 {
      font-size: 1.5em;
      margin-bottom: 2em;
    }

    .contenthead {
      font-size: 1.5em;
      margin-bottom: 1em;
    }

    #content {
      margin: 1em 23% 1em 19%;
    }

    #content > p {
      margin-bottom: 1em;
    }

    code {
      background: #ddd;
      padding: 0.1em;
    }

    div.sectionTitle {
      font-size: 1.3em;
      background: #333;
      color: #ddd;
      padding: 0.5em;
      margin: 2em 0 1em 0;
    }

    div.fixedFont {
      font: 1.1em fixed;
    }

    .description {
      margin: 1em 0 1em 0;
    }

    .detailList {
      font-size: 0.9em;
      margin-bottom: 3em;
    }

    dt {
      font-style: italic;
    }

    .heading {
      font-size: 1.2em;
      font-weight: bold;
    }

    .light {
      color: #777;
    }
  </style>
</head>
<body>
<div id="header">
  <h1 id="title">Kixx Treadmill</h1>
  <h2 id="sub-title">Give your toolpack a workout with automated code testing.</h2>
</div>
<div id="content">
    <p>
    The file
    <code>treadmill/treadmill.js</code>
    provides a few hooks to easily run JSLint
    <a href="http://jslint.com/" target="_blank">(JSLint.com)</a>
    and Simpletest on your toolpack.
    </p><p>
    To build an interactive test suite simply create an html document within
    your toolpack that will run your tests.  The file
    <code>treadmill/treadmill.js</code>
    should be included in your testrunner html document with
    <br /><code>&lt;script src="../treadmill/treadmill.js"...&gt;</code><br />
    or
    <br /><code>&lt;script
    src="chrome://kixx/content/packs/treadmill/treadmill.js"...&gt;</code>
    </p><p>
    Your test runner html document must have a container
    (<code>&lt;div&gt;</code>)
    with the id attribute set to
    <code>id="treadmill"</code>
    where the results of the JSLint scans and Simpletest output will be
    displayed.
    </p><p>
    <b>Important!:
    <code>treadmill.js</code>
    injects the
    <code>require()</code>
    function into the global namespace of the testrunner html document, enabling
    use of the JavaScript module system within Kixx.
    </b>
    </p>
  <hr />

  <h3 class="contenthead">Source Documentation</h3>
  <a href="treadmill_js_src.html">see the source</a>


<!-- ============================== constructor details ==================== -->		
			
			<div class="details"><a name="constructor"> </a>
				<div class="sectionTitle">
					Namespace Detail
				</div>
				
				<div class="fixedFont">
						<b>TREADMILL</b>
				</div>
				
				<div class="description">
					The Treadmill application namespace.
					
				</div>
				
				
				
				
					
					
					
					
					
					
					

			</div>
			

<!-- ============================== field details ========================== -->		
			
				<div class="sectionTitle">
					Field Detail
				</div>
				
					<a name=".testOutputFormatter"> </a>
					<div class="fixedFont">&lt;static&gt; 
					
					
					<span class="light">TREADMILL.</span><b>testOutputFormatter</b>
					
					</div>
					<div class="description">
						The standard Treadmill output formatter.
Outputs Simpletest results to the test document.
						
						
					</div>
					
					
					
					<pre class="code">var TestSuite = require("simpletest/testrunner_1").TestSuite;
var suite = new TestSuite("My Tests", TREADMILL.testOutputFormatter);</pre>
					
					

						
						
						
						

					
				
			

<!-- ============================== method details ========================= -->		
			
				<div class="sectionTitle">
					Method Detail
				</div>
				
					<a name=".createAndRunTestSuite"> </a>
					<div class="fixedFont">&lt;static&gt; 
					
					
					<span class="light">TREADMILL.</span><b>createAndRunTestSuite</b>(aName, aTests, aCallback)
					
					</div>
					<div class="description">
						Create a Simpletest test suite and run it. The output from the tests will be
written to the container element with id "treadmill" when the suite is done
running. This is just a convenience wrapper for the
<code>require("simpletest/testrunner_1").TestSuite</code>
constructor.
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>aName</b>
									
								</dt>
								<dd>The name of the test group</dd>
							
								<dt>
									<span class="light fixedFont">{object[]}</span> <b>aTests</b>
									
								</dt>
								<dd>A list of objects with the following members:
 <br />{function} test The test function (will be passed the test
 object)
 <br />{integer} time The time limit for the test before it times out
 in milliseconds</dd>
							
								<dt>
									<span class="light fixedFont">{function}</span> <b>aCallback</b>
									
								</dt>
								<dd>Will be called when the test suite is done running.</dd>
							
							</dl>
						
						
						
						
						
						
						

					<hr />
				
					<a name=".jslint"> </a>
					<div class="fixedFont">&lt;static&gt; 
					
					
					<span class="light">TREADMILL.</span><b>jslint</b>(aFile)
					
					</div>
					<div class="description">
						Scan a JavaScript file with JSLint.
<a href="http://jslint.com/" target="_blank">(JSLint.com)</a>
Will output the results as an html snippet onto your testrunner page.
Important!: To use this feature, you need to include
<code>
&lt;script src="chrome://kixx/content/packs/jslint/fulljslint.js"
&gt;&lt;/script&gt;
</code>
						
						
					</div>
					
					
					
						
							<dl class="detailList">
							<dt class="heading">Parameters:</dt>
							
								<dt>
									<span class="light fixedFont">{string}</span> <b>aFile</b>
									
								</dt>
								<dd>The location of the file using the same annotation
as <code>require()</code>.</dd>
							
							</dl>
</div>
</body>
</html>
